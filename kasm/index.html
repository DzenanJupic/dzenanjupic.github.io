<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>KASM</title>

    <link rel="stylesheet" href="/kasm/bootstrap.min-90f68156446e26b9.css">
    
    

    <script src="bootstrap.bundle.min.js"></script>
    <script src="ace/ace.js"></script>
<style>
    html, body {
        overflow: hidden;
        box-sizing: border-box;
    }

    input:focus {
        outline: none;
    }
</style></head>

<body>
<div id="app"></div>
<script type="module">import init from '/kasm/index-bff2307eac793877.js';init('/kasm/index-bff2307eac793877_bg.wasm');</script>

<script>
    let start_editor_interval = null;
    let editor = null;

    function start_editor() {
        if (start_editor_interval !== null) {
            try {
                editor = ace.edit("editor");

                clearInterval(start_editor_interval);
                start_editor_interval = null;
                
                editor.setTheme("ace/theme/dracula");
                editor.session.setMode("ace/mode/text");
                editor.setFontSize(15);
                
                let editor_value = localStorage.getItem("editor_value");
                if (editor_value !== null) {
                    editor.setValue(editor_value, -1);
                    editor.clearSelection();
                }
                
                editor.getSession().on('change', function() {
                    localStorage.setItem("editor_value", get_editor_value());
                })
            } catch (_) {
            }
        }
    }

    function get_editor_value() {
        if (editor !== null) {
            return editor.getValue();
        } else {
            return null;
        }
    }
    
    function set_editor_font_size(font_size) {
        if (editor !== null) {
            editor.setFontSize(font_size);
        } else {
            setTimeout(
                () => set_editor_font_size(font_size),
                100
            )
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        start_editor_interval = setInterval(start_editor, 100);
    });
</script>

</body></html>